<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DocSift – AI-Powered Document Analysis</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta
    name="description"
    content="DocSift reads your long documents and turns them into clean summaries, key points, action items, and full reports using AI."
  />
  <link rel="stylesheet" href="styles.css" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link
    href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap"
    rel="stylesheet"
  />

  <!-- Scoped styles for the auth section -->
  <style>
    .auth-section {
      margin-top: 3rem;
    }

    .auth-card {
      max-width: 520px;
      margin: 0 auto;
      background: #020617;
      border-radius: 16px;
      padding: 20px 20px 24px;
      box-shadow: 0 20px 40px rgba(0,0,0,0.45);
      border: 1px solid #111827;
      color: #e5e7eb;
    }

    .auth-card h2 {
      margin: 0 0 4px;
      font-size: 1.35rem;
    }

    .auth-card p {
      margin: 0 0 16px;
      font-size: 0.9rem;
      color: #9ca3af;
    }

    .auth-tabs {
      display: flex;
      gap: 8px;
      margin-bottom: 16px;
    }

    .auth-tab-btn {
      flex: 1;
      border-radius: 999px;
      border: 1px solid #1f2937;
      background: #020617;
      padding: 6px 10px;
      font-size: 0.85rem;
      color: #9ca3af;
      cursor: pointer;
    }

    .auth-tab-btn.active {
      background: #2563eb;
      border-color: #2563eb;
      color: #ffffff;
    }

    .auth-form {
      display: flex;
      flex-direction: column;
      gap: 10px;
      margin-top: 8px;
    }

    .auth-form label {
      font-size: 0.85rem;
      color: #e5e7eb;
    }

    .auth-form input[type="email"],
    .auth-form input[type="password"] {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #1f2937;
      background: #020617;
      color: #e5e7eb;
      font-size: 0.9rem;
    }

    .auth-form input::placeholder {
      color: #6b7280;
    }

    .auth-btn-primary {
      margin-top: 4px;
      padding: 8px 10px;
      border-radius: 999px;
      border: none;
      background: #22c55e;
      color: #022c22;
      font-weight: 600;
      font-size: 0.9rem;
      cursor: pointer;
    }

    .auth-btn-primary:disabled {
      opacity: 0.6;
      cursor: default;
    }

    .auth-btn-link {
      padding: 4px 0;
      border: none;
      background: transparent;
      color: #60a5fa;
      font-size: 0.8rem;
      cursor: pointer;
      text-decoration: underline;
    }

    .auth-helper {
      font-size: 0.8rem;
      color: #9ca3af;
    }

    .auth-error {
      margin-top: 8px;
      font-size: 0.8rem;
      color: #f97373;
      display: none;
    }

    .auth-success {
      margin-top: 8px;
      font-size: 0.8rem;
      color: #4ade80;
      display: none;
    }

    .auth-status {
      margin-top: 12px;
      padding: 8px 10px;
      border-radius: 10px;
      border: 1px solid #1f2937;
      background: #030712;
      font-size: 0.8rem;
      display: none;
      justify-content: space-between;
      align-items: center;
      gap: 8px;
    }

    .auth-status span {
      color: #9ca3af;
    }

    .auth-status strong {
      color: #e5e7eb;
    }

        .auth-status button {
      border: none;
      background: transparent;
      color: #fca5a5;
      font-size: 0.8rem;
      cursor: pointer;
      text-decoration: underline;
      padding: 0;
    }

    .plan-status {
      font-size: 0.8rem;
      color: #9ca3af;
      margin-top: 4px;
    }

.auth-toggle {
  display: inline-flex;
  align-items: center;
  gap: 6px;
  font-size: 0.8rem;
  color: #9ca3af;
  margin-top: -4px;
  margin-bottom: 4px;
}


.auth-toggle input {
  accent-color: #22c55e;
}


    @media (max-width: 640px) {
      .auth-card {
        padding: 16px 14px 20px;
      }
    }
  </style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="logo">DocSift</div>
      <nav class="nav">
        <a href="#features">Features</a>
        <a href="#how-it-works">How it works</a>
        <a href="#pricing">Pricing</a>
        <a href="#account">Account</a>
        <a href="#faq">FAQ</a>
        <a href="https://docsift.streamlit.app" class="nav-cta" target="_blank" rel="noopener">
          Open App
        </a>
      </nav>
    </div>
  </header>

  <main>
    <!-- HERO -->
    <section class="hero">
      <div class="container hero-grid">
        <div class="hero-text">
          <h1>Let AI read your documents for you.</h1>
          <p class="hero-subtitle">
            Paste in a contract, report, PDF, or policy and DocSift instantly gives you summaries,
            key points, action items, risks, and a full report you can download.
          </p>

          <div class="hero-buttons">
            <a
              href="https://docsift.streamlit.app"
              class="btn primary"
              target="_blank"
              rel="noopener"
            >
              Use DocSift Free
            </a>
            <a
              href="https://buy.stripe.com/14A7sLej62Qw7Xs2vsbZe00"
              class="btn ghost"
              target="_blank"
              rel="noopener"
            >
              Get DocSift Pro →
            </a>
          </div>

          <p class="hero-note">
            No login required. Free tier available. Upgrade to Pro when you're ready.
          </p>
        </div>

        <div class="hero-panel">
          <div class="hero-card">
            <div class="hero-card-header">
              <span class="badge">Live Preview</span>
              <h2>Drop in a document. Get clarity back.</h2>
            </div>
            <ul class="hero-list">
              <li>✅ Clean AI summary in a few clicks</li>
              <li>✅ Top key points and takeaways</li>
              <li>✅ Action items & owners extracted</li>
              <li>✅ Risks & red flags highlighted</li>
              <li>✅ Full report export to PDF / Word</li>
            </ul>
            <p class="hero-card-footer">
              Built with OpenAI under the hood. You stay in control of what you upload.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- FEATURES -->
    <section id="features" class="section">
      <div class="container">
        <h2>What DocSift can do for you</h2>
        <p class="section-subtitle">
          Stop skimming 30-page documents. Let DocSift pull out what actually matters.
        </p>

        <div class="feature-grid">
          <div class="feature-card">
            <h3>Summarize long documents</h3>
            <p>
              Turn dense PDFs, Word files, and text into short, clear summaries you can actually use.
            </p>
          </div>

          <div class="feature-card">
            <h3>Key points & action items</h3>
            <p>
              Extract top takeaways, decisions, and action items so you can move work forward fast.
            </p>
          </div>

          <div class="feature-card">
            <h3>Risk & red-flag scanning</h3>
            <p>
              Automatically flag unclear responsibilities, missing info, and potential risks to review.
            </p>
          </div>

          <div class="feature-card">
            <h3>Explain it like I'm 12</h3>
            <p>
              Simplify complex language into something a non-expert (or tired expert) can understand.
            </p>
          </div>

          <div class="feature-card">
            <h3>Rewrite for clarity</h3>
            <p>
              Clean up messy text into a clear, concise, professional tone while preserving meaning.
            </p>
          </div>

          <div class="feature-card">
            <h3>Full report downloads</h3>
            <p>
              Generate a full DocSift report and download it as Markdown, PDF, or Word in one click.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- HOW IT WORKS -->
    <section id="how-it-works" class="section alt">
      <div class="container">
        <h2>How it works</h2>
        <div class="steps-grid">
          <div class="step">
            <div class="step-number">1</div>
            <h3>Upload your document</h3>
            <p>
              Drop in a PDF, Word file, or text. DocSift extracts the text and checks basic limits so
              you don't accidentally send a whole book.
            </p>
          </div>

          <div class="step">
            <div class="step-number">2</div>
            <h3>Pick what you need</h3>
            <p>
              Use tabs to generate summaries, key points, action items, risks, explanations, study
              guides, or a full report.
            </p>
          </div>

          <div class="step">
            <div class="step-number">3</div>
            <h3>Download & share</h3>
            <p>
              Export your full report as PDF or Word, share it with your team, or paste it into your
              own docs and systems.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- PRICING -->
    <section id="pricing" class="section">
      <div class="container">
        <h2>Simple pricing</h2>
        <p class="section-subtitle">
          Start free. Upgrade to Pro when DocSift proves its value in your workflow.
        </p>

        <div class="pricing-grid">
          <div class="pricing-card">
            <h3>Free</h3>
            <p class="price">$0</p>
            <ul>
              <li>Limited pages per document</li>
              <li>Summaries & basic analysis</li>
              <li>No account required</li>
            </ul>
            <a
              href="https://docsift.streamlit.app"
              class="btn secondary full"
              target="_blank"
              rel="noopener"
            >
              Use DocSift Free
            </a>
          </div>

          <div class="pricing-card pro">
            <div class="badge">Most Popular</div>
            <h3>DocSift Pro</h3>
            <p class="price">$9 / month</p>
            <ul>
              <li>Higher document limits</li>
              <li>Key Points, Action Items, Risks</li>
              <li>Explain Like I'm 12 & Clarity Rewrites</li>
              <li>Study Guides & Full Reports</li>
              <li>PDF & Word report downloads</li>
            </ul>
            <a
              href="https://buy.stripe.com/14A7sLej62Qw7Xs2vsbZe00"
              class="btn primary full"
              target="_blank"
              rel="noopener"
            >
              Get DocSift Pro
            </a>
          </div>
        </div>
      </div>
    </section>

    <!-- PRO ACTIVATION -->
    <section id="pro-activation" class="section alt">
      <div class="container">
        <h2>How to activate DocSift Pro</h2>
        <p class="section-subtitle">
          The upgrade flow is simple. Here's exactly what happens after you purchase DocSift Pro
          and how to turn on Pro features inside the app.
        </p>

        <div class="steps-grid">
          <div class="step">
            <div class="step-number">1</div>
            <h3>Purchase DocSift Pro</h3>
            <p>
              Click any <strong>Get DocSift Pro</strong> button on this page to go to our secure
              Stripe checkout. Complete your purchase using your preferred payment method.
            </p>
          </div>

          <div class="step">
            <div class="step-number">2</div>
            <h3>Copy your activation code</h3>
            <p>
              After payment, Stripe will show a confirmation page with your
              <strong>DocSift Pro activation code</strong>. Copy or save this code – you'll use it
              to unlock Pro inside the app.
            </p>
          </div>

          <div class="step">
            <div class="step-number">3</div>
            <h3>Enter the code inside DocSift</h3>
            <p>
              Open the DocSift app and look at the left sidebar under <strong>Account</strong>.
              Paste your activation code into
              <strong>"Enter your DocSift Pro access code"</strong> and click
              <strong>"Activate Pro"</strong>.
            </p>
          </div>

          <div class="step">
            <div class="step-number">4</div>
            <h3>Enjoy Pro features immediately</h3>
            <p>
              Once the code is accepted, you'll see <strong>⭐ DocSift Pro Active</strong> in the
              sidebar, and Pro-only features like Key Points, Action Items, Risk Analysis, Explain
              Like I'm 12, Clarity Rewrites, Study Guides, and Full Reports will unlock instantly.
            </p>
          </div>
        </div>

        <p class="section-subtitle" style="margin-top: 1.8rem;">
          If you accidentally close the Stripe confirmation page before copying your code, just
          contact us at <a href="mailto:support@getdocsift.com">support@getdocsift.com</a> with
          your purchase email and we'll help you out.
        </p>
      </div>
    </section>

    <!-- ACCOUNT / AUTH SECTION -->
    <section id="account" class="section alt auth-section">
      <div class="container">
        <h2>DocSift account (email login)</h2>
        <p class="section-subtitle">
          Use your email and password to create an account or sign in. In the future, this account
          will connect directly to your DocSift Pro subscription and usage.
        </p>

        <div class="auth-card" id="auth-card">
          <h2>Sign in or create an account</h2>
          <p>Use your email and a password you’ll remember. You can reset it at any time.</p>

          <div class="auth-tabs">
            <button type="button" class="auth-tab-btn active" id="tab-login">Log in</button>
            <button type="button" class="auth-tab-btn" id="tab-signup">Create account</button>
            <button type="button" class="auth-tab-btn" id="tab-reset">Reset password</button>
          </div>

          <div id="auth-forms">
            <!-- LOGIN FORM -->
            <form id="login-form" class="auth-form">
  <h3>Welcome Back</h3>

  <div class="input-group">
    <label for="login-email">Email</label>
    <input
      id="login-email"
      type="email"
      required
      autocomplete="email"
      placeholder="you@example.com"
    />
  </div>

  <div class="input-group">
    <label for="login-password">Password</label>
    <input
      id="login-password"
      type="password"
      required
      autocomplete="current-password"
      placeholder="Enter your password"
    />
  </div>

  <label class="show-password">
    <input type="checkbox" id="login-show-password" />
    Show Password
  </label>

  <button type="submit" class="btn primary">Log In</button>

  <p><a href="#" id="forgot-password-link">Forgot your password?</a></p>
</form>


            <!-- SIGNUP FORM -->
            <form id="signup-form" class="auth-form">
  <h3>Create Your Account</h3>

  <div class="input-group">
    <label for="signup-email">Email</label>
    <input
      id="signup-email"
      type="email"
      required
      autocomplete="email"
      placeholder="you@example.com"
    />
  </div>

  <div class="input-group">
    <label for="signup-password">Password</label>
    <input
      id="signup-password"
      type="password"
      required
      autocomplete="new-password"
      placeholder="Create a password"
    />
  </div>

  <label class="show-password">
    <input type="checkbox" id="signup-show-password" />
    Show Password
  </label>

  <button type="submit" class="btn primary">Sign Up</button>
</form>



            <!-- RESET PASSWORD FORM -->
            <form id="reset-form" class="auth-form" style="display:none;">
              <label for="reset-email">Email</label>
              <input id="reset-email" type="email" placeholder="you@example.com" required />

              <button type="submit" class="auth-btn-primary" id="reset-submit">Send reset link</button>
              <p class="auth-helper">
                We'll email you a password reset link if there's an account for this address.
              </p>
              <button type="button" class="auth-btn-link" id="reset-to-login">
                Back to log in
              </button>
            </form>
          </div>

          <div id="auth-error" class="auth-error"></div>
          <div id="auth-success" class="auth-success"></div>

          <div id="auth-status" class="auth-status">
  		<div>
    			<span>Status:</span>
    			<strong id="auth-status-text">Not signed in</strong>
    			<div id="plan-status" class="plan-status"></div>
  		</div>
  		<button type="button" id="logout-button">Log out</button>
	  </div>

        </div>
      </div>
    </section>

    <!-- FAQ -->
    <section id="faq" class="section alt">
      <div class="container">
        <h2>FAQ</h2>
        <div class="faq-grid">
          <div class="faq-item">
            <h3>Do I need an account to try DocSift?</h3>
            <p>
              No. You can use the free version directly in your browser without creating an account.
            </p>
          </div>

          <div class="faq-item">
            <h3>What types of files are supported?</h3>
            <p>
              Right now DocSift supports PDF, Word (.docx), and plain text (.txt) files, with safety
              limits to prevent huge uploads.
            </p>
          </div>

          <div class="faq-item">
            <h3>Is there a limit on document size?</h3>
            <p>
              Yes, there are different page limits for Free and Pro to keep costs predictable. The
              app will tell you if a file is too large.
            </p>
          </div>

          <div class="faq-item">
            <h3>Can I cancel Pro?</h3>
            <p>
              Yes. You control your subscription in Stripe. Cancel any time and keep using the free
              version.
            </p>
          </div>
        </div>
      </div>
    </section>
  </main>

  <footer class="site-footer">
    <div class="container footer-inner">
      <div class="footer-left">
        <div class="logo">DocSift</div>
        <p>AI-powered document analysis toolkit.</p>
      </div>
      <div class="footer-right">
        <a href="https://docsift.streamlit.app" target="_blank" rel="noopener">Open App</a>
        <a href="mailto:support@getdocsift.com">Contact</a>
      </div>
    </div>
  </footer>

  <!-- Firebase Auth + UI logic -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/12.6.0/firebase-app.js";
import {
  getAuth,
  onAuthStateChanged,
  createUserWithEmailAndPassword,
  signInWithEmailAndPassword,
  sendPasswordResetEmail,
  signOut
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-auth.js";
import {
  getFirestore,
  doc,
  setDoc,
  serverTimestamp,
  getDoc
} from "https://www.gstatic.com/firebasejs/12.6.0/firebase-firestore.js";

    // Your Firebase configuration  
    const firebaseConfig = {
      apiKey: "AIzaSyCEWuC6JRAQ1pJRR85aFVPIkrb8oARnQjE",
      authDomain: "docsift-prod.firebaseapp.com",
      projectId: "docsift-prod",
      storageBucket: "docsift-prod.firebasestorage.app",
      messagingSenderId: "329761785362",
      appId: "1:329761785362:web:286a596f5036b5ac963acb",
      measurementId: "G-M6JL3DMG6B"  // not used, but OK to keep
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const auth = getAuth(app);
    const db = getFirestore(app);


    // DOM elements
    const tabLogin = document.getElementById("tab-login");
    const tabSignup = document.getElementById("tab-signup");
    const tabReset = document.getElementById("tab-reset");

    const loginForm = document.getElementById("login-form");
    const signupForm = document.getElementById("signup-form");
    const resetForm = document.getElementById("reset-form");

    const loginToSignup = document.getElementById("login-to-signup");
    const loginToReset = document.getElementById("login-to-reset");
    const signupToLogin = document.getElementById("signup-to-login");
    const resetToLogin = document.getElementById("reset-to-login");

    const authError = document.getElementById("auth-error");
    const authSuccess = document.getElementById("auth-success");
    const authStatus = document.getElementById("auth-status");
    const authStatusText = document.getElementById("auth-status-text");
    const planStatus = document.getElementById("plan-status");
    const logoutButton = document.getElementById("logout-button");
    const authForms = document.getElementById("auth-forms");

    const loginSubmit = document.getElementById("login-submit");
    const signupSubmit = document.getElementById("signup-submit");
    const resetSubmit = document.getElementById("reset-submit");

    const loginShowPassword = document.getElementById("login-show-password");
    const signupShowPassword = document.getElementById("signup-show-password");


    function setActiveTab(tab) {
      // buttons
      tabLogin.classList.remove("active");
      tabSignup.classList.remove("active");
      tabReset.classList.remove("active");

      if (tab === "login") tabLogin.classList.add("active");
      if (tab === "signup") tabSignup.classList.add("active");
      if (tab === "reset") tabReset.classList.add("active");

      // forms
      loginForm.style.display = tab === "login" ? "flex" : "none";
      signupForm.style.display = tab === "signup" ? "flex" : "none";
      resetForm.style.display = tab === "reset" ? "flex" : "none";

      // messages
      authError.style.display = "none";
      authSuccess.style.display = "none";
    }

    function showError(msg) {
      if (!msg) {
        authError.style.display = "none";
        return;
      }
      authError.textContent = msg;
      authError.style.display = "block";
      authSuccess.style.display = "none";
    }

    function showSuccess(msg) {
      if (!msg) {
        authSuccess.style.display = "none";
        return;
      }
      authSuccess.textContent = msg;
      authSuccess.style.display = "block";
      authError.style.display = "none";
    }

    // Tab handlers
    tabLogin?.addEventListener("click", () => setActiveTab("login"));
    tabSignup?.addEventListener("click", () => setActiveTab("signup"));
    tabReset?.addEventListener("click", () => setActiveTab("reset"));

    loginToSignup?.addEventListener("click", () => setActiveTab("signup"));
    loginToReset?.addEventListener("click", () => setActiveTab("reset"));
    signupToLogin?.addEventListener("click", () => setActiveTab("login"));
    resetToLogin?.addEventListener("click", () => setActiveTab("login"));

    // Default tab
    setActiveTab("login");

loginShowPassword?.addEventListener("change", (e) => {
  const input = document.getElementById("login-password");
  if (input) {
    input.type = e.target.checked ? "text" : "password";
  }
});

signupShowPassword?.addEventListener("change", (e) => {
  const input = document.getElementById("signup-password");
  if (input) {
    input.type = e.target.checked ? "text" : "password";
  }
});

    // LOGIN
    loginForm?.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("login-email").value.trim();
      const password = document.getElementById("login-password").value;

      loginSubmit.disabled = true;
      showError("");
      showSuccess("");

      try {
        await signInWithEmailAndPassword(auth, email, password);
        // onAuthStateChanged will handle UI update
      } catch (err) {
        console.error(err);
        showError("Login failed. Please check your email and password.");
      } finally {
        loginSubmit.disabled = false;
      }
    });

    // SIGNUP
signupForm?.addEventListener("submit", async (e) => {
  e.preventDefault();
  const email = document.getElementById("signup-email").value.trim();
  const password = document.getElementById("signup-password").value;

  signupSubmit.disabled = true;
  showError("");
  showSuccess("");

  try {
    const cred = await createUserWithEmailAndPassword(auth, email, password);
    const user = cred.user;
    
     // Create or initialize Firestore user doc
    const userRef = doc(db, "users", user.uid);
    await setDoc(userRef, {
      email: email,
      plan: "free",           // default plan
      createdAt: serverTimestamp(),
      proSince: null
    });


    showSuccess("Account created and you are now signed in.");
    setActiveTab("login");
  } catch (err) {
    console.error(err);
    let msg = "Could not create account. Please try again.";

    if (err.code === "auth/email-already-in-use") {
      msg = "That email is already in use. Try logging in instead.";
    } else if (err.code === "auth/weak-password") {
      msg = "Password is too weak. Use at least 6 characters.";
    } else if (err.code === "auth/invalid-email") {
      msg = "That email address doesn’t look valid.";
    } else if (err.code === "auth/operation-not-allowed") {
      msg = "Email/password sign-in is not enabled in the project.";
    } else if (err.code === "auth/unauthorized-domain") {
      msg = "This domain is not allowed to use this sign-in method.";
    }

    showError(msg);
  } finally {
    signupSubmit.disabled = false;
  }
});

    // RESET PASSWORD
    resetForm?.addEventListener("submit", async (e) => {
      e.preventDefault();
      const email = document.getElementById("reset-email").value.trim();

      resetSubmit.disabled = true;
      showError("");
      showSuccess("");

      try {
        await sendPasswordResetEmail(auth, email);
        showSuccess("If an account exists for that email, a reset link has been sent.");
      } catch (err) {
        console.error(err);
        showError("Could not send reset link. Please try again later.");
      } finally {
        resetSubmit.disabled = false;
      }
    });

    // LOG OUT
    logoutButton?.addEventListener("click", async () => {
      try {
        await signOut(auth);
      } catch (err) {
        console.error(err);
      }
    });

// OPTIONAL: Create Firestore doc if missing (for old accounts)
async function ensureUserDoc(user) {
  const userRef = doc(db, "users", user.uid);
  const snap = await getDoc(userRef);

  if (!snap.exists()) {
    await setDoc(userRef, {
      email: user.email || "",
      plan: "free",
      createdAt: serverTimestamp(),
      proSince: null
    });
  }
}

// ---- END OF HELPER ----


        // AUTH STATE LISTENER
    onAuthStateChanged(auth, async (user) => {
      if (user) {
        // Show status UI and hide forms
        authStatus.style.display = "flex";
        authStatusText.textContent = `Signed in as ${user.email || "(no email)"}`;
        logoutButton.style.display = "inline";
        authForms.style.display = "block"; // keep forms visible container, tabs, etc., if you prefer; or "none" to hide them
        if (planStatus) {
          planStatus.textContent = "Loading plan…";
        }

        try {
          // Make sure the Firestore user doc exists for older accounts
          await ensureUserDoc(user);

          // Now read the user document to get the plan
          const userRef = doc(db, "users", user.uid);
          const snap = await getDoc(userRef);

          let plan = "free";
          if (snap.exists()) {
            const data = snap.data();
            plan = data.plan || "free";
          }

          if (planStatus) {
            planStatus.textContent = plan === "pro" ? "Pro plan" : "Free plan";
          }
        } catch (err) {
          console.error("Error loading user plan:", err);
          if (planStatus) {
            planStatus.textContent = "Free plan";
          }
        }
      } else {
        // Not signed in
        authStatus.style.display = "flex";
        authStatusText.textContent = "Not signed in";
        logoutButton.style.display = "none";
        authForms.style.display = "block";
        if (planStatus) {
          planStatus.textContent = "";
        }
      }
    });


  </script>
</body>
</html>
